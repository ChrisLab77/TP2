pipeline
       {
	    agent
	     { label "slave"
	    }
	    parameters
	         {     
		choice(
			name: 'Environment',
			choices: "SIT",
			description: 'Select the Deployment Environment' )
        }
	    environment 
	              { 
           projectArtifactId = 'ArtifactId'
    	   projectGroupId = 'GroupId'
    	   projectVersion = 'Version'
     	   artifactType = 'Packaging'
           app_git_url = 'galaxy_cls_sit_git_url'
           app_git_branch = 'galaxy_cls_sit_git_branch'
	    }
stages
     {
    stage('git clone')
	    {
	     steps
	         {
		   cleanWs()
		   dir('config')
		    {
			 git branch:'master', credentialsId: '7d05c5ea-50a1-43dc-82f1-139fa9c86bb1', url: 'https://github.com/Raj-Release/java-hello-world-with-maven.git'
			 echo 'checkout completed' 
			}		 
	   }
	   
	  }
	  stage('Checkout APP files')
    	 {
		steps
			 {
         git branch:'master', credentialsId: '7d05c5ea-50a1-43dc-82f1-139fa9c86bb1', url: 'https://github.com/Raj-Release/java-hello-world-with-maven.git'
				echo 'checkout completed'
                script
				{
					pom = readMavenPom file: "pom.xml"
                    projectArtifactId = pom.getArtifactId()
					projectGroupId = pom.getGroupId()
					projectVersion = pom.getVersion()
					artifactType = pom.getPackaging()
                }
            }
        }
    	stage("Build and Package")
		{
			steps
			{
				echo "${projectArtifactId}"
				sh "mvn clean install"
 		    }
       	}

}

}






        
